"use strict";!function(a){a(document).ready(function(){var n="",e=wmsDeactivationFeedback.plugin_slug,t=wmsDeactivationFeedback.strings,o=!1,i='\n            <div id="wms-deactivation-modal" class="wms-deactivation-modal" style="display: none;">\n                <div class="wms-deactivation-modal-overlay"></div>\n                <div class="wms-deactivation-modal-content">\n                    <div class="wms-deactivation-modal-header">\n                        <h2>'.concat(t.title,'</h2>\n                        <button class="wms-deactivation-modal-close">&times;</button>\n                    </div>\n                    <div class="wms-deactivation-modal-body">\n                        <p>').concat(t.description,'</p>\n                        <form id="wms-deactivation-form">\n                            <div class="wms-deactivation-reasons">\n                                <label class="wms-deactivation-reason">\n                                    <input type="radio" name="reason" value="no_longer_needed" />\n                                    <span>').concat(t.reason_1,'</span>\n                                </label>\n                                <label class="wms-deactivation-reason">\n                                    <input type="radio" name="reason" value="found_better_plugin" />\n                                    <span>').concat(t.reason_2,'</span>\n                                </label>\n                                <label class="wms-deactivation-reason">\n                                    <input type="radio" name="reason" value="not_working" />\n                                    <span>').concat(t.reason_3,'</span>\n                                </label>\n                                <label class="wms-deactivation-reason">\n                                    <input type="radio" name="reason" value="broke_site" />\n                                    <span>').concat(t.reason_4,'</span>\n                                </label>\n                                <label class="wms-deactivation-reason">\n                                    <input type="radio" name="reason" value="temporary" />\n                                    <span>').concat(t.reason_5,'</span>\n                                </label>\n                                <label class="wms-deactivation-reason">\n                                    <input type="radio" name="reason" value="other" />\n                                    <span>').concat(t.reason_6,'</span>\n                                </label>\n                            </div>\n                            <div class="wms-deactivation-details" style="display: none;">\n                                <textarea name="details" placeholder="').concat(t.placeholder,'" rows="4"></textarea>\n                            </div>\n                        </form>\n                    </div>\n                    <div class="wms-deactivation-modal-footer">\n                        <button class="button button-secondary wms-deactivation-cancel">').concat(t.cancel,'</button>\n                        <button class="button button-primary wms-deactivation-submit" disabled>').concat(t.submit,"</button>\n                    </div>\n                </div>\n            </div>\n        ");a("body").append(i);var s=a("#the-list").find('[data-slug="'+e.replace("/","-").replace(".php","")+'"] .deactivate a');0===s.length&&(s=a('tr[data-plugin="'+e+'"] .deactivate a')),s.on("click",function(e){e.preventDefault(),n=a(this).attr("href"),a("#wms-deactivation-modal").fadeIn(200)}),a('input[name="reason"]').on("change",function(){var n=a(this).val(),e=a(".wms-deactivation-details"),t=a('textarea[name="details"]');a(".wms-deactivation-error").remove(),o=!1,"found_better_plugin"===n||"not_working"===n||"broke_site"===n||"other"===n?(e.slideDown(200),t.prop("required",!0)):(e.slideUp(200),t.prop("required",!1)),a(".wms-deactivation-submit").prop("disabled",!1)}),a(".wms-deactivation-modal-close, .wms-deactivation-cancel, .wms-deactivation-modal-overlay").on("click",function(){a("#wms-deactivation-modal").fadeOut(200)}),a(".wms-deactivation-submit").on("click",function(){var e=a(this),t=a('input[name="reason"]:checked').val(),i=a('textarea[name="details"]').val();if(!o&&("found_better_plugin"===t||"not_working"===t||"broke_site"===t||"other"===t)&&""===i.trim()){return a(".wms-deactivation-details").after('<div class="wms-deactivation-error" style="color: #dc3232; margin-top: 10px; font-size: 13px;">Pourriez-vous prendre 1 petite seconde pour nous donner quelques d√©tails et nous aider √† am√©liorer le plugin ? ü•π</div>'),void(o=!0)}e.text();e.prop("disabled",!0).text("..."),a.ajax({url:wmsDeactivationFeedback.ajax_url,type:"POST",data:{action:"wms_send_deactivation_feedback",nonce:wmsDeactivationFeedback.nonce,reason:t,details:i},success:function(a){window.location.href=n},error:function(){window.location.href=n}})})})}(jQuery);